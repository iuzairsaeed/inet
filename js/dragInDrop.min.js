/*!!
 * Hqy Interact v1.0.1
 * Copyright 2015-2016 HQY ( email: hqy321@gmail.com)
 * Licensed under MIT
 */
!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(1),i(7),i(9)},function(t,e,i){var n=i(2),r=i(3),o=i(4);n.fn.hqyDraggable=function(t){var e=arguments;return this.each(function(){var i=n(this),o=i.data("hqyDraggable");return r.isString(t)?void(o&&o[t].apply(o,Array.prototype.slice.call(e,1))):(t=n.extend({},n.fn.hqyDraggable.defaults,t||{}),o&&o.destroy(),o=new n.fn.hqyDraggable.clz,o.init(this,t),void i.data("hqyDraggable",o))})},n.fn.hqyDraggable.clz=o,n.fn.hqyDraggable.defaults={proxy:null,revert:!1,revertDuration:0,deltaX:null,deltaY:null,handle:null,disabled:!1,axis:null,cursor:"move",onBeforeDrag:function(t){},onStartDrag:function(t,e){},onDrag:function(t,e){},onStopDrag:function(t,e){}}},function(t,e){t.exports=window.jQuery||window.Zepto},function(t,e,i){function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var r=i(2),o=e.toString=Object.prototype.toString;e.isUndefined=function(t){return void 0===t},e.isNull=function(t){return null===t},r.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t,i){e["is"+i]=function(t){return o.call(t)==="[object "+i+"]"}}),e.uuid=function(t){var e=""+n()+n()+n()+n()+n()+n()+n()+n();return t?t+e:e},e.ucfirst=function(t){return t?t.charAt(0).toUpperCase()+t.substring(1):t}},function(t,e,i){function n(){}function r(t){return".hqyDraggable"+t}function o(){return u.fn.hqyDraggable.isDragging?!1:!u.fn.hqyResizable||!u.fn.hqyResizable.isResizing&&!u.fn.hqyResizable.inHotzone}function s(t){u.fn.hqyDraggable.isDragging=t}function a(){return u.fn.hqyDraggable.isDragging}function h(){return u.fn.hqyDroppable&&u.fn.hqyDroppable.instances||[]}function l(t){return!m(t)&&!D(t)}function c(t,e,i){var n=d.pointer(t),r=n.x,o=n.y;u.each(e,function(t,e){if(!e.get("disabled")){var n=e.el.offset(),s=r>n.left&&r<n.left+e.el.outerWidth()&&o>n.top&&o<n.top+e.el.outerHeight();return i.call(e.element,e,s)}})}function f(t,e,i,n){n=n||u.noop(),i>0?t.animate(e,i,n):(t.css(e),n())}var u=i(2),d=i(5),g=i(3),p=i(6);u.extend(n.prototype,p,{setup:function(){this.bindEvents()},bindEvents:function(){var t=this.get("handle")||this.el;v(t)&&(t=this.$(t)),this.delegateEvents(t,d.start,this.doDragBefore),this.delegateEvents("click",function(t){this._allowClick||(t.preventDefault(),t.stopPropagation(),this._allowClick=!0)})},drag:function(t){var e,i=t.data,n=this._proxy,r=this.get("axis"),o=d.pointer(t),s=o.x,a=o.y,h=i.startLeft+s-i.startX,c=i.startTop+a-i.startY;if(n){var f=this.get("deltaX"),u=this.get("deltaY");e=n.parent(),e[0]==document.body?(h=l(f)?s+f:s-i.offsetWidth,c=l(u)?a+u:a-i.offsetHeight):(l(f)&&(h+=i.offsetWidth+f),l(u)&&(c+=i.offsetHeight+u))}else e=this.el.parent();e[0]!=document.body&&(h+=e.scrollLeft(),c+=e.scrollTop()),"x"==r?i.left=h:"y"==r?i.top=c:(i.left=h,i.top=c)},applyDrag:function(t){(this._proxy||this.el).css({left:t.data.left,top:t.data.top})},doDragBefore:function(t){if(this._allowClick=!0,3!==t.which&&!this.get("disabled")&&o()){t.preventDefault();var e=this.el.position(),i=this.el.offset(),n=d.pointer(t);if(t.data={startTime:(new Date).getTime(),startPosition:this.el.css("position"),startLeft:e.left,startTop:e.top,left:e.left,top:e.top,startX:n.x,startY:n.y,offsetWidth:n.x-i.left,offsetHeight:n.y-i.top},this.triggerMethod("onBeforeDrag",t)!==!1){var s=this,h=u(document),l=r(this.cid);h.on(d.move+l,t.data,function(t){a()?s.doDragMove(t):s.doDragStart(t)}),h.on(d.end+l,t.data,function(t){s.doDragEnd(t)})}}},doDragStart:function(t){if(!this._isMoving)return t.preventDefault(),void(this._isMoving=!0);s(!0);var e=this;this._drops=u.grep(h(),function(t){if(e.element===t.element)return!1;var i=t.get("accept");return y(i)?i.call(t.element,e.element):i?u(i).filter(function(){return this===e.element}).length>0:!0}),this.clearProxy();var i=this.get("proxy");"clone"===i?this._proxy=this.el.clone().insertAfter(this.el):y(i)&&(this._proxy=i.call(this.element,this.element));var n=this._proxy||this.el;n.css("position","absolute"),u("body").css("cursor",this.get("cursor")),this.triggerMethod("onStartDrag",t,n[0]),this.doDragMove(t)},doDragMove:function(t){if(a()){t.preventDefault(),this.drag(t),this.triggerMethod("onDrag",t,(this._proxy||this.el)[0])!==!1&&this.applyDrag(t);var e=this,i=u("body"),n=this._proxy||this.el;c(t,this._drops,function(r,o){var s=r.element,a=r.get("cursor");o?(s.entered||(u(s).trigger("_dragenter",[t,n[0]]),s.entered=!0,a&&i.css("cursor",a)),u(s).trigger("_dragover",[t,n[0]])):s.entered&&(u(s).trigger("_dragleave",[t,n[0]]),s.entered=!1,i.css("cursor",e.get("cursor")))})}},doDragEnd:function(t){if(!a())return this.clearProxy(),void this.clearDragging();this.doDragMove(t),this._allowClick=!1;var e=this,i=this.get("revert"),n=this.get("revertDuration"),r=this._proxy||this.el;c(t,this._drops,function(e,i){return i?(u(e.element).trigger("_drop",[t,r[0]]),e.element.entered=!1,!1):void 0});var o=function(i){e.triggerMethod("onStopDrag",t,r[0]),e.clearDragging(),i&&e.clearProxy()},s=function(){if(i){var s,a;r.parent()[0]==document.body?(s=t.data.startX-t.data.offsetWidth,a=t.data.startY-t.data.offsetHeight):(s=t.data.startLeft,a=t.data.startTop),o(),f(r,{left:s,top:a},n,function(){e.clearProxy()})}else o(!0)},h=function(){i&&f(r,{left:t.data.startLeft,top:t.data.startTop},n,function(){r.css("position",t.data.startPosition)}),o(!0)};this._proxy?s(r):h(r)},clearProxy:function(){this._proxy&&(this._proxy.stop(!0).remove(),this._proxy=null)},clearDragging:function(){this._drops=null,this._isMoving=!1,u(document).off(r(this.cid)),setTimeout(function(){u("body").css("cursor","")},100),s(!1)},destroy:function(){this.clearDragging(),p.destroy.call(this)}}),t.exports=n;var v=g.isString,y=g.isFunction,m=g.isUndefined,D=g.isNull},function(t,e){var i=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);if(i)e.start="touchstart",e.move="touchmove",e.end="touchend";else{var n=window.navigator,r=["mousedown","mousemove","mouseup"];n.pointerEnabled?r=["pointerdown","pointermove","pointerup"]:n.msPointerEnabled&&(r=["MSPointerDown","MSPointerMove","MSPointerUp"]),e.start=r[0],e.move=r[1],e.end=r[2]}e.pointer=function(t){var e={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e}},function(t,e,i){function n(t,e){var i=t.match(u),n=i[1]+h+e.cid,o=i[2]||void 0;return o&&o.indexOf("{{")>-1&&(o=r(o,e)),{type:n,selector:o}}function r(t,e){return t.replace(d,function(t,i){for(var n,r=i.split("."),o=e;n=r.shift();)o=o===e.attrs?e.get(n):o[n];return c(o)?o:g})}function o(t){for(var e=t.length-1;e>=0&&void 0===t[e];e--)t.pop();return t}var s=i(2),a=i(3),h=".delegate-events-";t.exports={init:function(t,e){this.initCid(),this.initOptions(e),this.initElement(t),this.setup()},initCid:function(){this.cid=l()},initElement:function(t){if(this.originalElement=t,this.element=s(t)[0],!this.element)throw new Error("element is invalid");this.el=s(this.element)},initOptions:function(t){this.originalAttrs=t,this.attrs=s.extend({},this.originalAttrs)},setup:function(){},get:function(t){return this.attrs[t]},set:function(t,e){t&&(this.attrs[t]=e)},$:function(t){return this.el.find(t)},triggerMethod:function(t){var e=this.get(t);return f(e)?e.apply(this.element,Array.prototype.slice.call(arguments,1)):void 0},delegateEvents:function(t,e,i){var r=o(Array.prototype.slice.call(arguments));if(0===r.length)return this;if(1===r.length?(e=t,t=this.el):2===r.length?(i=e,e=t,t=this.el):(t||(t=this.el),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(s(t))),c(e)&&f(i)){var a={};a[e]=i,e=a}for(var h in e)if(e.hasOwnProperty(h)){var l=n(h,this),u=l.type,d=l.selector;!function(e,i){var n=function(t){var n=Array.prototype.slice.call(arguments);return f(e)?e.apply(i,n):i[e].apply(i,n)};d?s(t).on(u,d,n):s(t).on(u,n)}(e[h],this)}return this},unDelegateEvents:function(t,e){var i=o(Array.prototype.slice.call(arguments));if(e||(e=t,t=null),0===i.length){var r=h+this.cid;if(this.el&&this.el.off(r),this._delegateElements)for(var a in this._delegateElements)this._delegateElements.hasOwnProperty(a)&&this._delegateElements[a].off(r)}else{var l=n(e,this);t?s(t).off(l.type,l.selector):this.el&&this.el.off(l.type,l.selector)}return this},destroy:function(){this.undelegateEvents();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}}};var l=a.uuid,c=a.isString,f=a.isFunction,u=/^(\S+)\s*(.*)$/,d=/{{([^}]+)}}/g,g="INVALID_SELECTOR"},function(t,e,i){var n=i(2),r=i(3),o=i(8);n.fn.hqyDroppable=function(t){var e=arguments;return this.each(function(){var i=n(this),o=i.data("hqyDroppable");return r.isString(t)?void(o&&o[t].apply(o,Array.prototype.slice.call(e,1))):(t=n.extend({},n.fn.hqyDroppable.defaults,t||{}),o&&o.destroy(),o=new n.fn.hqyDroppable.clz,o.init(this,t),void i.data("hqyDroppable",o))})},n.fn.hqyDroppable.clz=o,n.fn.hqyDroppable.instances=o.instances,n.fn.hqyDroppable.defaults={accept:null,disabled:!1,cursor:"copy",onDragEnter:function(t,e){},onDragOver:function(t,e){},onDragLeave:function(t,e){},onDrop:function(t,e){}}},function(t,e,i){function n(){}function r(t,e,i){t.delegateEvents(e,function(t,e,n){this.triggerMethod(i,e,n)})}var o=i(2),s=i(6);o.extend(n.prototype,s,{setup:function(){r(this,"_dragenter","onDragEnter"),r(this,"_dragleave","onDragLeave"),r(this,"_dragover","onDragOver"),r(this,"_drop","onDrop"),this.el.attr("hqy-droppable-element","active"),a.push(this)},destroy:function(){this.el.removeAttr("hqy-droppable-element");for(var t=0;t<a.length;t++)this===a[t]&&a.splice(t--,1);s.destroy.call(this)}}),t.exports=n;var a=n.instances=[]},function(t,e,i){var n=i(2),r=i(3),o=i(10);n.fn.hqyResizable=function(t){var e=arguments;return this.each(function(){var i=n(this),o=i.data("hqyResizable");return r.isString(t)?void(o&&o[t].apply(o,Array.prototype.slice.call(e,1))):(t=n.extend({},n.fn.hqyResizable.defaults,t||{}),o&&o.destroy(),o=new n.fn.hqyResizable.clz,o.init(this,t),void i.data("hqyResizable",o))})},n.fn.hqyResizable.clz=o,n.fn.hqyResizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onBeforeResize:function(t){},onStartResize:function(t){},onResize:function(t){},onStopResize:function(t){}}},function(t,e,i){function n(){}function r(t){return".hqyResizable"+t}function o(){return c.fn.hqyResizable.isResizing?!1:!c.fn.hqyDraggable||!c.fn.hqyDraggable.isDragging}function s(t){c.fn.hqyResizable.isResizing=t}function a(t){c.fn.hqyResizable.inHotzone=t}function h(){return c.fn.hqyResizable.isResizing}function l(t,e){var i=parseInt(t.css(e));return isNaN(i)?0:i}var c=i(2),f=i(5),u=i(6);c.extend(n.prototype,u,{setup:function(){this.bindEvents()},bindEvents:function(){this.delegateEvents("mousemove",function(t){if(!this.get("disabled")){var e=this.getDirection(f.pointer(t));e?(this.el.css("cursor",e+"-resize"),a(!0)):(this.el.css("cursor",""),a(!1))}}),this.delegateEvents("mouseleave",function(t){this.get("disabled")||(this.el.css("cursor",""),a(!1))}),this.delegateEvents(f.start,this.doResizeBefore),this.delegateEvents("click",function(t){this._allowClick||(t.preventDefault(),t.stopPropagation(),this._allowClick=!0)})},getDirection:function(t){var e=this.el.offset(),i=this.el.outerWidth(),n=this.el.outerHeight(),r=this.get("edge"),o=t.x,s=t.y,a="";s>e.top&&s<e.top+r?a+="n":s<e.top+n&&s>e.top+n-r&&(a+="s"),o>e.left&&o<e.left+r?a+="w":o<e.left+i&&o>e.left+i-r&&(a+="e");for(var h=this.get("handles").split(","),l=0;l<h.length;l++){var c=h[l].replace(/(^\s*)|(\s*$)/g,"");if("all"==c||c==a)return a}return!1},doResizeBefore:function(t){if(this._allowClick=!0,3!==t.which&&!this.get("disabled")&&o()){var e=f.pointer(t),i=this.getDirection(e);if(i){t.preventDefault(),a(!1);var n=this.el.outerWidth(),s=this.el.outerHeight(),u=this.el.width(),d=this.el.height();if(t.data={dir:i,startLeft:l(this.el,"left"),startTop:l(this.el,"top"),left:l(this.el,"left"),top:l(this.el,"top"),startX:e.x,startY:e.y,startWidth:n,startHeight:s,width:n,height:s,deltaWidth:n-u,deltaHeight:s-d},this.triggerMethod("onBeforeResize",t)!==!1){var g=this,p=c(document),v=r(this.cid);p.on(f.move+v,t.data,function(t){h()?g.doResizeMove(t):g.doResizeStart(t)}),p.on(f.end+v,t.data,function(t){g.doResizeEnd(t)})}}}},resize:function(t){var e=t.data,i=e.dir,n=f.pointer(t),r=n.x,o=n.y,s=0,a=0;-1!=i.indexOf("e")&&(s=e.startWidth+r-e.startX,s=Math.min(Math.max(s,this.get("minWidth")),this.get("maxWidth")),e.width=s),-1!=i.indexOf("s")&&(a=e.startHeight+o-e.startY,a=Math.min(Math.max(a,this.get("minHeight")),this.get("maxHeight")),e.height=a),-1!=i.indexOf("w")&&(s=e.startWidth-r+e.startX,s=Math.min(Math.max(s,this.get("minWidth")),this.get("maxWidth")),e.width=s,e.left=e.startLeft+e.startWidth-e.width),-1!=i.indexOf("n")&&(a=e.startHeight-o+e.startY,a=Math.min(Math.max(a,this.get("minHeight")),this.get("maxHeight")),e.height=a,e.top=e.startTop+e.startHeight-e.height)},applySize:function(t){var e=t.data;this.el.css({left:e.left,top:e.top}),this.el.outerWidth()!=e.width&&this.el.width(e.width-e.deltaWidth),this.el.outerHeight()!=e.height&&this.el.height(e.height-e.deltaHeight)},doResizeStart:function(t){return this._isMoving?(s(!0),c("body").css("cursor",t.data.dir+"-resize"),this.triggerMethod("onStartDrag",t),void this.doResizeMove(t)):(t.preventDefault(),void(this._isMoving=!0))},doResizeMove:function(t){h()&&(t.preventDefault(),this.resize(t),this.triggerMethod("onResize",t)!==!1&&this.applySize(t))},doResizeEnd:function(t){return h()?(this.doResizeMove(t),this._allowClick=!1,this.triggerMethod("onStopResize",t),this.clearResizing(),void c("body").css("cursor","")):void this.clearResizing()},clearResizing:function(){this._isMoving=!1,c(document).off(r(this.cid)),setTimeout(function(){c("body").css("cursor","")},100),s(!1),a(!1)},destroy:function(){this.clearResizing(),u.destroy.call(this)}}),t.exports=n}]);
//# sourceMappingURL=hqy.interact.min.js.map